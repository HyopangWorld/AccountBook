package accountBook;

import javax.swing.ButtonGroup;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTextField;
import java.awt.Color;
import java.awt.Dimension;
import java.util.Calendar;
import java.awt.Choice;
import javax.swing.JCheckBox;
import java.awt.Font;
import java.awt.Toolkit;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.sql.SQLException;

public class Input_gui extends JFrame{
	Calendar cal = Calendar.getInstance();

	public Input_gui(String id, String setY, String setM, String setD){
		String y = String.valueOf(cal.get(cal.YEAR));
		
		JPanel inputPanel = new JPanel();
		
		//³¯Â¥
		Choice YearCh = new Choice();
		YearCh.setFont(new Font("³ª´®°íµñ", Font.PLAIN, 25));
		YearCh.setBounds(195, 149, 88, 35);
		for(int k =-3; k<2;k++){YearCh.add(String.valueOf(cal.get(cal.YEAR)+k));}
		YearCh.select(setY);
		inputPanel.setLayout(null);
		inputPanel.add(YearCh);
		
		Choice MonCh = new Choice();
		MonCh.setFont(new Font("³ª´®°íµñ", Font.PLAIN, 25));
		MonCh.setBounds(289, 149, 66, 35);
		for(int k = 1; k <= 12; k++){
			if(k < 10)MonCh.add("0"+String.valueOf(k));
			else MonCh.add(String.valueOf(k));
		}MonCh.select(setM);
		inputPanel.add(MonCh);
		
		
		Choice DayCh = new Choice();
		DayCh.setFont(new Font("³ª´®°íµñ", Font.PLAIN, 25));
		DayCh.setBounds(361, 149, 63, 35);
		for(int k = 1; k <= 31; k++){
			if(k < 10)DayCh.add("0"+String.valueOf(k));
			else DayCh.add(String.valueOf(k));
		}DayCh.select(setD);
		inputPanel.add(DayCh);
		
		//¼öÀÔ&ÁöÃâ È®ÀÎ Ã¼Å©¹Ú½º
		ButtonGroup bg = new ButtonGroup();
		JCheckBox outCh = new JCheckBox("ÁöÃâ",false);
		outCh.setBackground(Color.WHITE);
		outCh.setFont(new Font("³ª´®°íµñ", Font.PLAIN, 25));
		outCh.setBounds(126, 42, 77, 37);
		JCheckBox inCh= new JCheckBox("¼öÀÔ",true);
		inCh.setBackground(Color.WHITE);
		inCh.setFont(new Font("³ª´®°íµñ", Font.PLAIN, 25));
		inCh.setBounds(276, 42, 77, 37);
		bg.add(outCh);bg.add(inCh);
		inputPanel.add(outCh); inputPanel.add(inCh);
		
		JLabel label = new JLabel("\uAE30\uC785\uB0A0\uC9DC");
		label.setFont(new Font("³ª´®°íµñ", Font.PLAIN, 25));
		label.setBounds(58, 155, 96, 29);
		inputPanel.add(label);
		
		//±Ý¾× ÀÔ·Â
		JTextField moneyText = new JTextField();
		moneyText.setFont(new Font("³ª´®°íµñ", Font.PLAIN, 20));
		moneyText.setBounds(195, 259, 179, 43);
		inputPanel.add(moneyText);
		moneyText.setColumns(10);
		
		JLabel label_1 = new JLabel("\uB0B4\uC5ED");
		label_1.setFont(new Font("³ª´®°íµñ", Font.PLAIN, 25));
		label_1.setBounds(77, 380, 48, 29);
		inputPanel.add(label_1);
		
		//³»¿ª ÀÔ·Â
		JTextField usingText = new JTextField();
		usingText.setFont(new Font("³ª´®°íµñ", Font.PLAIN, 20));
		usingText.setColumns(10);
		usingText.setBounds(195, 372, 218, 49);
		inputPanel.add(usingText);
		
		JLabel label_2 = new JLabel("\uAE08\uC561");
		label_2.setFont(new Font("³ª´®°íµñ", Font.PLAIN, 25));
		label_2.setBounds(77, 264, 48, 29);
		inputPanel.add(label_2);
		
		JLabel label_3 = new JLabel("(\uC6D0)");
		label_3.setFont(new Font("³ª´®°íµñ", Font.PLAIN, 20));
		label_3.setBounds(377, 273, 48, 29);
		inputPanel.add(label_3);
		
		//ÀÔ·Â ¹öÆ°
		JButton input = new JButton("ÀÔ·Â");
		input.setFont(new Font("³ª´®°íµñ", Font.PLAIN, 25));
		input.setBounds(195, 463, 90, 48);
		inputPanel.add(input);
		input.addActionListener(new ActionListener(){
			public void actionPerformed(ActionEvent e){
				//ÀÔ·ÂÇÑ °ª ¹Þ¾Æ¼­ calender_info db¿¡ insertÇÏ±â
				String inOrout = null;
				if(inCh.isSelected())inOrout = inCh.getText();
				else inOrout = outCh.getText();
				
				String y = YearCh.getItem(YearCh.getSelectedIndex());
				String m = MonCh.getItem(MonCh.getSelectedIndex());
				String d = DayCh.getItem(DayCh.getSelectedIndex());
				int money = Integer.valueOf(moneyText.getText());
				String using = usingText.getText();
				
			    Input in = new Input(id);
			    try {
					in.account(y,m,d,inOrout,money,using);
				} catch (SQLException e1) {
					e1.printStackTrace();
				}
			    dispose();
			  }
		});
		
		//ÆÐ³Î setting
		inputPanel.setBackground(Color.WHITE);
		setSize(500, 600);
		
		Dimension screen =Toolkit.getDefaultToolkit().getScreenSize();
		//setSize(screen.width*5/7, screen.height*4/5);
		Dimension f1_size = super.getSize();
		  
		int left = (screen.width / 2) - (f1_size.width / 2);
		int top = (screen.height / 2) - (f1_size.height /2 );
		
		setLocation(left,  top);
		setResizable(true);
		getContentPane().add(inputPanel);
		setVisible(true);
	}
}

